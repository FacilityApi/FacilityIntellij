<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>io.github.facilityapi</id>
    <name>Facility API</name>
    <vendor url="https://facilityapi.github.io">Facility API Framework</vendor>

    <resource-bundle>messages.FsdBundle</resource-bundle>

    <!-- Enable all JetBrains products -->
    <depends>com.intellij.modules.lang</depends>

    <extensions defaultExtensionNs="com.intellij">

        <!-- File-Type Factory -->
        <fileType name="Facility Service Definition"
                  language="FSD"
                  extensions="fsd"
                  implementationClass="io.github.facilityapi.intellij.FsdFileType" />

        <!-- Parser -->
        <lang.parserDefinition
                language="FSD"
                implementationClass="io.github.facilityapi.intellij.parser.FsdParserDefinition" />

        <!-- Syntax Highlighter -->
        <lang.syntaxHighlighterFactory
                language="FSD"
                implementationClass="io.github.facilityapi.intellij.FsdSyntaxHighlighter$Factory" />

        <!-- Syntax Highlighting User Options -->
        <colorSettingsPage implementation="io.github.facilityapi.intellij.FsdColorSettingsPage" />

        <!-- Inline Refactoring Support -->
        <lang.refactoringSupport
                language="FSD"
                implementationClass="io.github.facilityapi.intellij.reference.FsdRefactoringSupportProvider" />

        <!-- Editor comment / uncomment -->
        <lang.commenter
            language="FSD"
            implementationClass="io.github.facilityapi.intellij.FsdCommenter" />

        <!-- Adds built-in types to autocomplete suggestions -->
        <completion.contributor
            language="FSD"
            implementationClass="io.github.facilityapi.intellij.FsdCompletionContributor" />

        <!-- Enables "Find Usages" -->
        <lang.findUsagesProvider language="FSD"
                                 implementationClass="io.github.facilityapi.intellij.FsdFindUsagesProvider" />

        <usageTypeProvider implementation="io.github.facilityapi.intellij.FsdUsageTypeProvider" />

        <!-- Enables structure view -->
        <lang.psiStructureViewFactory
            language="FSD"
            implementationClass="io.github.facilityapi.intellij.FsdStructureViewFactory" />

        <!-- Enables go to symbol -->
        <gotoSymbolContributor implementation="io.github.facilityapi.intellij.FsdChooseByNameContributor" />

        <!-- Enables formatting -->
        <lang.formatter
            language="FSD"
            implementationClass="io.github.facilityapi.intellij.formatting.FsdFormattingModelBuilder" />

        <!-- Enables code folding -->
        <lang.foldingBuilder
            language="FSD"
            implementationClass="io.github.facilityapi.intellij.FsdFoldingBuilder" />

        <!-- Enables Quick Documentation -->
        <lang.documentationProvider
                language="FSD"
                implementationClass="io.github.facilityapi.intellij.FsdDocumentationProvider" />

        <!-- Enable Brace Matching -->
        <lang.braceMatcher
            language="FSD"
            implementationClass="io.github.facilityapi.intellij.FsdBraceMatcher" />

        <!-- Check for duplicate names in service item definitions -->
        <localInspection
            language="FSD"
            displayName="DuplicateName"
            groupBundle="messages.FsdBundle"
            groupKey="inspections.bugs.duplicatename"
            enabledByDefault="true"
            level="ERROR"
            implementationClass="io.github.facilityapi.intellij.DuplicateNameInspection" />
    </extensions>

    <actions>
        <!-- Add your actions here -->
    </actions>
</idea-plugin>
